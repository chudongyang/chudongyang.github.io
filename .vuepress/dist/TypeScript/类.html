<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ts-类 | Promise-学习笔记</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="从头开始总结学习笔记，包括但不限于javaScript基础、vue和react相关、node相关等，每天总结一点点，积少成多...">
    <link rel="preload" href="/assets/css/0.styles.d7697ce3.css" as="style"><link rel="preload" href="/assets/js/app.0ff5dc81.js" as="script"><link rel="preload" href="/assets/js/2.d723362d.js" as="script"><link rel="preload" href="/assets/js/16.9c7cafe7.js" as="script"><link rel="prefetch" href="/assets/js/10.7978180b.js"><link rel="prefetch" href="/assets/js/11.866c4d1e.js"><link rel="prefetch" href="/assets/js/12.15df3a37.js"><link rel="prefetch" href="/assets/js/13.b26f751d.js"><link rel="prefetch" href="/assets/js/14.6153f36e.js"><link rel="prefetch" href="/assets/js/15.a83a313d.js"><link rel="prefetch" href="/assets/js/17.e67a2380.js"><link rel="prefetch" href="/assets/js/18.493ef864.js"><link rel="prefetch" href="/assets/js/19.f751d5fe.js"><link rel="prefetch" href="/assets/js/20.c3db4d13.js"><link rel="prefetch" href="/assets/js/21.194b3dd3.js"><link rel="prefetch" href="/assets/js/22.b9268a22.js"><link rel="prefetch" href="/assets/js/23.4b50c43a.js"><link rel="prefetch" href="/assets/js/24.1caba7d4.js"><link rel="prefetch" href="/assets/js/25.00b304f9.js"><link rel="prefetch" href="/assets/js/26.baa29ae4.js"><link rel="prefetch" href="/assets/js/27.1d6caa69.js"><link rel="prefetch" href="/assets/js/28.f13b8f97.js"><link rel="prefetch" href="/assets/js/29.35001df3.js"><link rel="prefetch" href="/assets/js/3.c9f27b53.js"><link rel="prefetch" href="/assets/js/30.0369e63e.js"><link rel="prefetch" href="/assets/js/31.077d72a6.js"><link rel="prefetch" href="/assets/js/32.f757d02e.js"><link rel="prefetch" href="/assets/js/33.99b0885c.js"><link rel="prefetch" href="/assets/js/34.ee7e64a9.js"><link rel="prefetch" href="/assets/js/35.e026493d.js"><link rel="prefetch" href="/assets/js/4.0e3a0dc2.js"><link rel="prefetch" href="/assets/js/5.9fc64bd7.js"><link rel="prefetch" href="/assets/js/6.4b34c62a.js"><link rel="prefetch" href="/assets/js/7.784d2758.js"><link rel="prefetch" href="/assets/js/8.62757065.js"><link rel="prefetch" href="/assets/js/9.aec258ee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d7697ce3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Promise-学习笔记</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://juejin.im/user/586687fe61ff4b006db52c79/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金专栏
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang/chudongyang.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://juejin.im/user/586687fe61ff4b006db52c79/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金专栏
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博客" class="dropdown-title"><span class="title">博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang/chudongyang.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chudongyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>small-ui 组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/components/button.html" class="sidebar-link">按钮组件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>javaScript相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javaScript/basic.html" class="sidebar-link">js基础</a></li><li><a href="/javaScript/mackdown基础语法.html" class="sidebar-link">mackdown基础语法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/basic.html" class="sidebar-link">什么是库？什么是框架</a></li><li><a href="/vue/comLibrary.html" class="sidebar-link">从零搭建 vue 组件库</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/basic.html" class="sidebar-link">react基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/wechat/error.html" class="sidebar-link">常见小程序错误的处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TypeScript/basic.html" class="sidebar-link">ts-简介</a></li><li><a href="/TypeScript/数据类型.html" class="sidebar-link">ts-数据类型</a></li><li><a href="/TypeScript/函数.html" class="sidebar-link">ts-函数</a></li><li><a href="/TypeScript/类.html" class="active sidebar-link">ts-类</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>flutter相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/flutter/install.html" class="sidebar-link">mac 下 fluter 的环境配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指令相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/command/git.html" class="sidebar-link">git相关</a></li><li><a href="/command/npm.html" class="sidebar-link">npm相关</a></li><li><a href="/command/brew.html" class="sidebar-link">brew相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db/MySQL.html" class="sidebar-link">mac下MySQL的安装</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>book相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/HTTP.html" class="sidebar-link">图解HTTP</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>博客文章</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/travis和vuepress搭建github仓库.html" class="sidebar-link">VuePress+Travis+Github搭建文档</a></li><li><a href="/blog/promise实现.html" class="sidebar-link">Promise实现</a></li><li><a href="/blog/事件环.html" class="sidebar-link">浏览器和Node事件环</a></li><li><a href="/blog/nodeJs流.html" class="sidebar-link">Node.js流</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="ts-类"><a href="#ts-类" class="header-anchor">#</a> ts-类</h3> <p>类是ES6新增加的语法，ts不仅实现了所有ES6中的类的功能外，还新增加了许多其他的功能。</p> <h3 id="类的概念"><a href="#类的概念" class="header-anchor">#</a> 类的概念</h3> <ul><li>类(Class)：定义了一件事物的抽象特点，包含它的属性和方法</li> <li>对象（Object）：类的实例，通过 <code>new</code> 生成</li> <li>面向对象（OOP）的三大特性：封装、继承、多态</li> <li>封装（Encapsulation）：将对数据的操作细节隐藏起来，只暴露对外的接口。外界调用端不需要（也不可能）知道细节，就能通过对外提供的接口来访问该对象，同时也保证了外界无法任意更改对象内部的数据</li> <li>继承（Inheritance）：子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li> <li>多态（Polymorphism）：由继承而产生了相关的不同的类，对同一个方法可以有不同的响应。比如 <code>Cat</code> 和 <code>Dog</code> 都继承自 <code>Animal</code>，但是分别实现了自己的 <code>eat</code> 方法。此时针对某一个实例，我们无需了解它是 <code>Cat</code> 还是 <code>Dog</code>，就可以直接调用 <code>eat</code> 方法，程序会自动判断出来应该如何执行 <code>eat</code></li> <li>存取器（getter &amp; setter）：用以改变属性的读取和赋值行为</li> <li>修饰符（Modifiers）：修饰符是一些关键字，用于限定成员或类型的性质。比如 <code>public</code> 表示公有属性或方法</li> <li>抽象类（Abstract Class）：抽象类是供其他类继承的基类，抽象类不允许被实例化。抽象类中的抽象方法必须在子类中被实现</li> <li>接口（Interfaces）：不同类之间公有的属性或方法，可以抽象成一个接口。接口可以被类实现（implements）。一个类只能继承自另一个类，但是可以实现多个接口</li></ul> <h3 id="js中类的使用"><a href="#js中类的使用" class="header-anchor">#</a> js中类的使用</h3> <p>ES6中，我们构造一个类需要遵循如下规则：</p> <ul><li>使用 <code>class</code> 关键字定义类，使用 <code>constructor</code> 定义构造函数</li> <li>使用 <code>new</code> 关键字生成一个类的实例</li> <li>使用 <code>extends</code> 继承父类，子类在 <code>constructor</code> 构造函数中调用 <code>super()</code> 关键字来调用父类的属性和方法</li> <li>使用存取器 <code>getter</code> 和 <code>setter</code> 改变属性的赋值和读取行为</li> <li>使用 <code>static</code> 修饰符来定义一个静态方法，直接通过类来调用</li></ul> <div class="language- extra-class"><pre class="language-text"><code>class Animal{
	constructor(name) {
		this.name = name
	}
	eat(food) {
		console.log(`${this.name} like to eat ${food}`)
	}
	static say() {
		console.log('hello world')
	}
}
</code></pre></div><p>ES7提案在ES6的基础上对类又进行了扩展，ts同样也很好的实现了它们。</p> <ul><li>ES7提案在类的最顶层，可以直接定义实例的属性，看起来比较整齐</li> <li>ES7提案中使用 <code>static</code> 定义静态属性，直接通过类来调用</li></ul> <div class="language- extra-class"><pre class="language-text"><code>class Animal{
	name = '我是实例的属性'
	constructor(name) {
		...
	}
	static staticProp = '我是一个静态属性'
}
</code></pre></div><h3 id="ts中类的用法"><a href="#ts中类的用法" class="header-anchor">#</a> ts中类的用法</h3> <p>ts中我们必须要知道的三个修饰符：</p> <ul><li>public     公有的，在子类中或其他任何地方都可以被访问到</li> <li>protected  受保护的，在声明它的类中或子类中可以访问，其他任何地方都不能被访问</li> <li>private    私有的，只有在声明它的类中能访问，其他任何地方都不能被访问</li></ul> <div class="language- extra-class"><pre class="language-text"><code>class Person{
	public name:string;
	private salary:number;
	protected age:number;
	constructor(name:string, age:number, salary:number) {
		this.name = name;
		this.age = age;
		this.salary = salary;
	}
}
class Child extends Person{
	constructor(name:string, age:number, salary:number) {
		super(name, age, salary);
	}
	description() {
		console.log(this.name);
		console.log(this.age);
		// 这里访问this.salary 会报错，因为salary是私有的
	}
}
let child = new Child('小明', 18, 10000)
console.log(child.name)
// 这里访问child.age和child.salary会报错，因为age是受保护的，salary是私有的
</code></pre></div><h3 id="类的readonly"><a href="#类的readonly" class="header-anchor">#</a> 类的readonly</h3> <p><code>readonly</code> 修饰的变量只能在 <code>构造函数</code> 中初始化, ts允许将 <code>interface</code>、<code>type</code>、<code>class</code> 上的属性标识为<code>readonly</code>。其实际上只在编译阶段进行代码检查，而 <code>const</code> 则会在运行时进行检查。</p> <div class="language- extra-class"><pre class="language-text"><code>class Animal{
	public readonly name:string;
	constructor(name:string) {
		this.name = name;
	}
	setName(name) {
		// 此处会报错，因为name是只读属性
		this.name = name;
	}
}
</code></pre></div><h3 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h3> <p>ts中使用 <code>abstract</code> 来定义抽象类和抽象方法。</p> <ul><li>抽象类不能被实例化，但是可以被继承</li> <li>抽象方法必须在子类中实现</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">8/18/2019, 9:11:37 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TypeScript/函数.html" class="prev">
        ts-函数
      </a></span> <span class="next"><a href="/flutter/install.html">
        mac 下 fluter 的环境配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0ff5dc81.js" defer></script><script src="/assets/js/2.d723362d.js" defer></script><script src="/assets/js/16.9c7cafe7.js" defer></script>
  </body>
</html>
